<!-- loop through all gamepins on screen -->
<div ng-repeat="pin in showPins" class="game_pin" ng-class="{'invis': pin.hidden}" masonry>
  <div class="game_options hidden">
    <a ng-show="!pin.likedFlag" class="like_btn" ng-click="like(pin)" >
      <i class="icon-heart"></i> Like
    </a>
    <a ng-show="pin.likedFlag" class="like_btn" ng-click="unlike(pin)" >
      Unlike
    </a>
    <!--<a class="pin_btn">Repin</a>
    <a class="comment_btn" href="#c1">Comment</a>-->
  </div>
  <a class="view_trigger" ng-click="viewBigPin($index)" data-toggle="dropdown">
    <img class="game_img" ng-src="{{pin.imageUrl || pin.sourceUrl}}" width="220"/>
  </a>
  <a name="c1"></a>
  <p class="game_description">{{pin.description}}</p>
  <p class="game_attributes">
    <span>{{pin.comments.length}} comment<span ng-show="pin.comments.length != 1">s</span></span>&nbsp;&nbsp;&nbsp;&nbsp;
    <span>{{pin.likedBy.length}} like<span ng-show="pin.likedBy.length != 1">s</span></span>
  </p>
  <div class="posted_by">
    <img ng-src="{{pin.profileImg || '/images/30x30.gif'}}" class="profile_img" width="30" height="30" /><p
    class="post_text"><a href="/user/{{pin.poster || pin.posterName}}"><b>{{pin.poster || pin.posterName}}</b></a> 
                       onto {{pin.category}}
    </p>
  </div>
  <div ng-repeat="cmt in pin.comments | limitTo:2" class="comment">
    <img ng-src="{{cmt.posterImg || '/images/30x30.gif'}}" class="profile_img" width="30" height="30" /><p 
    class="post_text"><a href="/user/{{cmt.posterName}}"><b>{{cmt.posterName}}</b></a>
                       {{cmt.content}}
    </p>
  </div>
  <div class="respond clearfix" tabindex="">
      <img ng-src="{{userImg || '/images/30x30.gif'}}" class="profile_img" width="30" height="30" /><textarea 
      ng-click="showComment = true; masonry();" class="respond_txtarea" placeholder="Post comment" tabindex="" ng-model="text"></textarea>
      <button ng-show="showComment" class="respond_btn btn" type="submit" ng-click="addComment(text, $index); text=null; showComment = false">Comment</button>
  </div>
</div>
<img class="rackspace_logo" style="display: none" ng-src="/images/rackspace_logo.png" />